[gd_scene load_steps=11 format=3 uid="uid://ikoix038qpb5"]

[ext_resource type="Script" path="res://screens/game/GameManager.cs" id="1_on7bs"]
[ext_resource type="PackedScene" uid="uid://2tlnswc213ld" path="res://entities/player/player.tscn" id="1_wch8i"]
[ext_resource type="Texture2D" uid="uid://ba2unrt7mcob8" path="res://common/sprites/square.png" id="2_q1l4w"]
[ext_resource type="PackedScene" uid="uid://crjcgdc8bk867" path="res://ground/ground.tscn" id="3_pumi2"]
[ext_resource type="Script" path="res://common/scripts/ObjectSpawner.cs" id="4_bnrps"]
[ext_resource type="PackedScene" uid="uid://bjfu6uixh31o2" path="res://entities/arrow/arrow.tscn" id="5_1rmxv"]
[ext_resource type="Script" path="res://screens/game/GameUI.cs" id="7_dqd63"]
[ext_resource type="Script" path="res://common/scripts/ScoreManager.cs" id="8_ltjsa"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rdyc6"]
size = Vector2(233, 65)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q50gy"]
size = Vector2(16, 16)

[node name="Game" type="Node" node_paths=PackedStringArray("_playerController", "_scoreManager", "_gameUI")]
script = ExtResource("1_on7bs")
_playerController = NodePath("Player")
_scoreManager = NodePath("ScoreManager")
_gameUI = NodePath("UI")
_resultMenuPath = "res://screens/result_menu/result_menu.tscn"

[node name="Camera2D" type="Camera2D" parent="."]
top_level = true
zoom = Vector2(7, 7)

[node name="Player" parent="." instance=ExtResource("1_wch8i")]
z_index = -1
position = Vector2(0, 40)

[node name="DespawnArea" type="Area2D" parent="." groups=["DespawnArea"]]
position = Vector2(0, 110)

[node name="CollisionShape2D" type="CollisionShape2D" parent="DespawnArea"]
visible = false
shape = SubResource("RectangleShape2D_rdyc6")

[node name="Walls" type="Node2D" parent="."]
z_index = 2

[node name="LeftWall" type="StaticBody2D" parent="Walls"]
position = Vector2(-110, 40)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/LeftWall"]
shape = SubResource("RectangleShape2D_q50gy")

[node name="Square" type="Sprite2D" parent="Walls/LeftWall"]
texture = ExtResource("2_q1l4w")

[node name="RightWall" type="StaticBody2D" parent="Walls"]
position = Vector2(110, 40)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/RightWall"]
shape = SubResource("RectangleShape2D_q50gy")

[node name="Square" type="Sprite2D" parent="Walls/RightWall"]
texture = ExtResource("2_q1l4w")

[node name="Ground" parent="." instance=ExtResource("3_pumi2")]
anchors_preset = 0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = -180.0
offset_top = 48.0
offset_right = 180.0
offset_bottom = 102.0
grow_horizontal = 1
grow_vertical = 1
mouse_filter = 2

[node name="ArrowSpawner" type="Node" parent="."]
script = ExtResource("4_bnrps")
_objectPrefab = ExtResource("5_1rmxv")
_minSpawnPos = Vector2(-100, -100)
_maxSpawnPos = Vector2(100, -200)
_spawnRate = 6.0
_spawnRateIncreaceRate = 0.2

[node name="ScoreManager" type="Node" parent="."]
script = ExtResource("8_ltjsa")

[node name="UI" type="CanvasLayer" parent="." node_paths=PackedStringArray("_scoreLabel", "_healthBar")]
script = ExtResource("7_dqd63")
_scoreLabel = NodePath("ScoreLabel")
_healthBar = NodePath("HealthBar")

[node name="ScoreLabel" type="Label" parent="UI"]
offset_left = 25.0
offset_top = 20.0
offset_right = 358.0
offset_bottom = 124.0
theme_override_font_sizes/font_size = 40
text = "
"

[node name="HealthBar" type="TextureProgressBar" parent="UI"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -243.0
offset_top = 20.0
offset_right = -24.0
offset_bottom = 61.0
grow_horizontal = 0
scale = Vector2(1.00031, 0.989899)
max_value = 1.0
step = 0.0
value = 1.0
nine_patch_stretch = true
texture_under = ExtResource("2_q1l4w")
texture_progress = ExtResource("2_q1l4w")
tint_under = Color(0.254902, 0.254902, 0.254902, 1)
tint_progress = Color(0.952941, 0, 0.129412, 1)
